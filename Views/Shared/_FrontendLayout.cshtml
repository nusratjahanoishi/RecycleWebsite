@using System.Security.Claims
@using NextUses.Models
@inject NextUses.Data.NextUsesDB DbContext

@{
	Users currentUser = null;
	if (User.Identity.IsAuthenticated)
	{
		var userId = User.FindFirstValue(ClaimTypes.NameIdentifier);
		currentUser = DbContext.Users.FirstOrDefault(u => u.Id == userId);
	}

	var setting = DbContext.GeneralSettings.FirstOrDefault() ?? new GeneralSetting();
	var categorys = DbContext.Categories?.ToList() ?? new List<Category>();
}


<!DOCTYPE html>
<html lang="zxx">
<head>
	<meta charset="utf-8" />
	<meta name="author" content="Themezhub" />
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Next Use Home Page</title>

	<!-- Custom CSS -->
	<link href="~/asset/frontend/css/plugins/animation.css" rel="stylesheet">
	<link href="~/asset/frontend/css/plugins/bootstrap.min.css" rel="stylesheet">
	<link href="~/asset/frontend/css/plugins/flaticon.css" rel="stylesheet">
	<link href="~/asset/frontend/css/plugins/font-awesome.css" rel="stylesheet">
	<link href="~/asset/frontend/css/plugins/iconfont.css" rel="stylesheet">
	<link href="~/asset/frontend/css/plugins/ion.rangeSlider.min.css" rel="stylesheet">
	<link href="~/asset/frontend/css/plugins/light-box.css" rel="stylesheet">
	<link href="~/asset/frontend/css/plugins/line-icons.css" rel="stylesheet">
	<link href="~/asset/frontend/css/plugins/slick-theme.css" rel="stylesheet">
	<link href="~/asset/frontend/css/plugins/slick.css" rel="stylesheet">
	<link href="~/asset/frontend/css/plugins/snackbar.min.css" rel="stylesheet">
	<link href="~/asset/frontend/css/plugins/themify.css" rel="stylesheet">
	<link href="~/asset/frontend/css/styles.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>

	<!-- ============================================================== -->
	<!-- Preloader - style you can find in spinners.css -->
	<!-- ============================================================== -->
	<div class="preloader"></div>

	<!-- ============================================================== -->
	<!-- Main wrapper - style you can find in pages.scss -->
	<!-- ============================================================== -->
	<div id="main-wrapper">
		<!-- Top Header -->
		<div class="py-2 br-bottom">
			<div class="container">
				<div class="row">

					<div class="col-xl-7 col-lg-6 col-md-6 col-sm-12 hide-ipad">
						<div class="top_second"><p class="medium text-muted m-0 p-0"><i class="lni lni-phone fs-sm"></i></i> Hotline <a href="#" class="medium text-dark text-underline">@setting?.ContactPhone</a></p></div>
					</div>

					<!-- Right Menu -->
					<div class="col-xl-5 col-lg-6 col-md-12 col-sm-12">
						<!-- Choose Language -->
						<div class="profile-selector-wrapper dropdown float-right mr-3">
							@if (User.Identity.IsAuthenticated && currentUser != null)
							{
								<a class="popup-title d-flex align-items-center" href="javascript:void(0)" data-toggle="dropdown">
									@if (currentUser?.Image != null)
									{
										<img src="data:image/png;base64,@Convert.ToBase64String(currentUser.Image)"
											 alt="Profile" class="rounded-circle" width="32" height="32" />
									}
									else
									{
										<img src="~/images/default-avatar.png"
											 alt="Default Profile" class="rounded-circle" width="32" height="32" />
									}

									<span class="ml-2 medium text-muted">@currentUser?.Name</span>
									<i class="fa fa-angle-down medium text-muted ml-1"></i>
								</a>

								<ul class="dropdown-menu dropdown-menu-right">
									<li>
										<a class="dropdown-item d-flex align-items-center" asp-controller="ProfileChange" asp-action="Information" asp-route-id="@currentUser.Id">
											<i class="fa fa-user mr-2"></i> Profile
										</a>
									</li>
									<li>
										<a class="dropdown-item d-flex align-items-center" asp-controller="Product" asp-action="Create">
											<i class="fa fa-plus-square mr-2"></i> Product Sell Post
										</a>
									</li>
									<li>
										<a class="dropdown-item d-flex align-items-center" asp-controller="Product" asp-action="Usersellproduct" asp-route-id="@currentUser.Id">
											<i class="fa fa-list-alt  mr-2"></i> Product Sell List
										</a>
									</li>
									<li>
										<a class="dropdown-item d-flex align-items-center" asp-controller="Checkout" asp-action="Orderlist">
											<i class="fa fa-shopping-cart mr-2"></i> Order List
										</a>
									</li>
									<li><hr class="dropdown-divider" /></li>
									<li>
										<form asp-controller="Account" asp-action="Logout" method="post">
											@Html.AntiForgeryToken()
											<button type="submit" class="dropdown-item d-flex align-items-center">
												<i class="fa fa-sign-out-alt mr-2"></i> Logout
											</button>
										</form>
									</li>
								</ul>
							}
							else
							{
								<a asp-controller="Account" asp-action="Login" class="dropdown-item d-flex align-items-center">
									<i class="lni lni-user mr-1"></i> Sign In / Register
								</a>
							}
						</div>


					</div>

				</div>
			</div>
		</div>

		<div class="headd-sty header">
			<div class="container">
				<div class="row">
					<div class="col-xl-12 col-lg-12 col-md-12">
						<div class="headd-sty-wrap d-flex align-items-center justify-content-between py-3">
							<div class="headd-sty-left d-flex align-items-center">
								<div class="headd-sty-01">
									@if (setting?.Logo != null)
									{
										<a class="nav-brand py-0" asp-controller="Frontend" asp-action="Index">
											<img src="data:image/png;base64,@Convert.ToBase64String(setting.Logo)" alt="@setting.SiteName" height="50" />
										</a>
										
									}
									else
									{
										<a class="nav-brand py-0" asp-controller="Frontend" asp-action="Index">
										<span>@(setting?.SiteName ?? "Site Name")</span>
										</a>
									}
									
								</div>
								<div class="headd-sty-02 ml-3">
									<form class="bg-white rounded-md border-bold">
										<div class="input-group">
											<input type="text" class="form-control custom-height b-0" placeholder="Search for products..." />
											<div class="input-group-append">
												<div class="input-group-text"><button class="btn bg-white text-danger custom-height rounded px-3" type="button"><i class="fas fa-search"></i></button></div>
											</div>
										</div>
									</form>
								</div>
							</div>
							<div class="headd-sty-last">
								<ul class="nav-menu nav-menu-social align-to-right align-items-center d-flex">
									<li>
										<div class="call d-flex align-items-center text-left">
											<i class="lni lni-phone fs-xl"></i>
											<span class="text-muted small ml-3">Call Us Now:<strong class="d-block text-dark fs-md">@(setting?.ContactPhone ?? "Not Now Contact")</strong></span>
										</div>
									</li>
									
								</ul>
							</div>
							
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Start Navigation -->
		<div class="headerd header-dark head-style-2">
			<div class="container">
				<nav id="navigation" class="navigation navigation-landscape">
					<div class="nav-header">
						<div class="nav-toggle"></div>
						<div class="nav-menus-wrapper">
							<ul class="nav-menu">
								<li><a asp-controller="Frontend" asp-action="Index" class="pl-0">Home</a></li>
								<li><a asp-controller="Frontend" asp-action="AllProduct">Shop</a></li>
								<li><a asp-controller="Frontend" asp-action="About">About Us</a></li>
								<li><a asp-controller="Frontend" asp-action="Contact">Contact</a></li>
							</ul>
						</div>
					</div>
				</nav>
			</div>
		</div>
		<!-- End Navigation -->
		<div class="clearfix"></div>
		@RenderBody()
		<!-- ============================================================== -->
		<!-- Top header  -->
		<!-- ============================================================== -->
		<!-- ======================= Category & Slider ======================== -->
	
		<!-- ======================= Customer Features ======================== -->
		<!-- ============================ Footer Start ================================== -->
		<footer class="dark-footer skin-dark-footer style-2">
			<div class="footer-middle">
				<div class="container">
					<div class="row">

						<div class="col-xl-3 col-lg-3 col-md-3 col-sm-12">
							<div class="footer_widget">
								@if (setting?.Logo != null)
								{
									<a asp-controller="Frontend" asp-action="Index">
										<img src="data:image/png;base64,@Convert.ToBase64String(setting.Logo)" alt="@setting.SiteName" height="50" width="265"  />
									</a>

								}
								else
								{
									<a class="img-footer small mb-2" asp-controller="Frontend" asp-action="Index">
										<span>@setting?.SiteName ?? "Site Name"</span>
									</a>
								}
							

								<div class="address mt-3 text-justify">
									@(setting?.SiteDescription ?? "Site description is not available.")
								</div>

							
								
							</div>
						</div>

						<div class="col-xl-2 col-lg-2 col-md-2 col-sm-12">
							<div class="footer_widget">
								<h4 class="widget_title">Supports</h4>
								<ul class="footer-menu">
									<li><a asp-controller="Frontend" asp-action="Index">Home Page</a></li>
									<li><a asp-controller="Frontend" asp-action="About">About Page</a></li>
									<li><a asp-controller="Frontend" asp-action="Contact">Contact Page</a></li>
								</ul>
							</div>
						</div>

						<div class="col-xl-2 col-lg-2 col-md-2 col-sm-12">
							<div class="footer_widget">
								<h4 class="widget_title">Shop</h4>
								<ul class="footer-menu">
							
										@foreach (var category in categorys)
										{
											<li>
												<a asp-controller="Frontend" asp-action="AllProduct">
													@category.Name
												</a>
											</li>
										}
									
									
									
								</ul>
							</div>
						</div>

						<div class="col-xl-2 col-lg-2 col-md-2 col-sm-12">
							<div class="footer_widget">
								<h4 class="widget_title">Company</h4>
								<ul class="footer-menu">
									<li><a asp-controller="Account" asp-action="Login">Login</a></li>
									<li><a asp-controller="Account" asp-action="Register">Registation</a></li>
									
								</ul>
							</div>
						</div>

						<div class="col-xl-3 col-lg-3 col-md-3 col-sm-12">
							<div class="footer_widget">
								<h4 class="widget_title">Information</h4>
								<p>Email: @(setting.ContactEmail ?? "Not available.")</p>
								<p>Conatact: @(setting.ContactPhone ?? "Not available.")</p>
								<p>Address: @(setting.Address ?? "Not available.")</p>
								
							</div>
						</div>

					</div>
				</div>
			</div>

			<div class="footer-bottom">
				<div class="container">
					<div class="row align-items-center">
						<div class="col-lg-12 col-md-12 text-center">
							<p class="mb-0">@(setting.FooterText??"Not available")</p>
						</div>
					</div>
				</div>
			</div>
		</footer>
		<!-- ============================ Footer End ================================== -->
		
		<a id="back2Top" class="top-scroll" title="Back to top" href="#"><i class="ti-arrow-up"></i></a>


	</div>
	<!-- ============================================================== -->
	<!-- End Wrapper -->
	<!-- ============================================================== -->
	<!-- ============================================================== -->
	<!-- All Jquery -->
	<!-- ============================================================== -->
	<script src="~/asset/frontend/js/jquery.min.js"></script>
	<script src="~/asset/frontend/js/popper.min.js"></script>
	<script src="~/asset/frontend/js/bootstrap.min.js"></script>
	<script src="~/asset/frontend/js/ion.rangeSlider.min.js"></script>
	<script src="~/asset/frontend/js/slick.js"></script>
	<script src="~/asset/frontend/js/slider-bg.js"></script>
	<script src="~/asset/frontend/js/lightbox.js"></script>
	<script src="~/asset/frontend/js/smoothproducts.js"></script>
	<script src="~/asset/frontend/js/snackbar.min.js"></script>
	<script src="~/asset/frontend/js/jQuery.style.switcher.js"></script>
	<script src="~/asset/frontend/js/custom.js"></script>
	<!-- ============================================================== -->
	<!-- This page plugins -->
	<!-- ============================================================== -->

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			var message = '@TempData["SweetAlertMessage"]';
			var icon = '@TempData["SweetAlertIcon"]';

			if (message) {
				Swal.fire({
					icon: icon || 'info',  // success, error, warning, info, question
					title: message,
					timer: 3000,
					showConfirmButton: false
				});
			}
		});
	</script>
	<script>
		function openWishlist() {
			document.getElementById("Wishlist").style.display = "block";
		}
		function closeWishlist() {
			document.getElementById("Wishlist").style.display = "none";
		}
	</script>

	<script>
		function openCart() {
			document.getElementById("Cart").style.display = "block";
		}
		function closeCart() {
			document.getElementById("Cart").style.display = "none";
		}
	</script>

	<script>
		function openSearch() {
			document.getElementById("Search").style.display = "block";
		}
		function closeSearch() {
			document.getElementById("Search").style.display = "none";
		}
	</script>

</body>

</html>